{"version":3,"sources":["data.js","Section.js","App.js","index.js"],"names":["data","Section","id","content","observer","sentinelCollection","onRemove","setIsRemoved","containerRef","useRef","sentinelTopRef","useState","sticky","setSticky","shadow","setShadow","useEffect","sentinelTop","current","container","observe","set","console","log","unobserve","delete","Date","now","styleHeader","boxShadow","ref","className","style","onClick","App","arr","amount","newArr","i","push","multiplyList","map","item","idx","list","setList","isFinished","setIsFinished","sentinelCollectionRef","Map","observerRef","IntersectionObserver","entries","sentinelContainer","forEach","entry","target","intersectionRatio","targetTop","boundingClientRect","top","rootHeight","rootBounds","height","rootTop","props","get","percentage","getBoundingClientRect","nearTop","Math","abs","sign","threshold","disconnect","clear","copy","foundIdx","findIndex","splice","size","key","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.41c6cc05.chunk.js","sourcesContent":["const data = [\n  // lorem10\n  \" Lorem ipsum dolor, sit amet consectetur adipisicing elit. Ad, obcaecati? \",\n  // lorem20,\n  \" Lorem ipsum dolor sit amet consectetur adipisicing elit. Quae amet nam aliquid dolorum recusandae repellat quod optio voluptatum, harum perspiciatis? \",\n  // lorem30\n  \" Lorem ipsum dolor sit amet consectetur adipisicing elit. Ex aspernatur labore aperiam esse magnam perspiciatis eaque accusantium dolor, voluptatum alias ad voluptas, quaerat in cumque. Officiis nisi corrupti ipsum rerum? \",\n  // lorem50,\n  \" Lorem ipsum dolor sit amet consectetur adipisicing elit. Dignissimos accusantium molestias earum nobis necessitatibus amet delectus, dolore nulla quibusdam ullam facilis? Magnam debitis, corrupti provident assumenda minus at repudiandae suscipit voluptatibus modi consectetur repellat quisquam pariatur temporibus vel fugit maxime ad! Suscipit, accusantium. Molestiae maxime ratione nihil accusamus accusantium iure! \",\n  // lorem75,\n  \" Lorem ipsum dolor sit amet consectetur adipisicing elit. Commodi itaque non, ipsa odit aliquam ex, inventore dolores sed dicta unde laborum quos, nesciunt neque quod nam odio fugiat necessitatibus quis. Earum a quisquam reiciendis tempore nisi harum nesciunt natus, inventore eos officia deleniti repellat optio fugiat ipsa iusto quos corrupti ut omnis facilis tempora, temporibus maxime voluptate? Ipsum pariatur distinctio error nisi repudiandae ullam neque voluptate, explicabo aliquid, molestias officia nobis, dolore sapiente incidunt suscipit? \",\n  // lorem100,\n  \" Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quaerat cum corporis ex voluptatum alias reprehenderit eum illo, laudantium molestiae ut! Voluptatibus, architecto! Modi necessitatibus praesentium quis. Asperiores libero blanditiis omnis voluptates. Recusandae vero totam assumenda blanditiis sequi obcaecati id facere atque reiciendis placeat ab incidunt, nemo rem quisquam exercitationem ipsum beatae consequuntur magnam, optio culpa ducimus repudiandae cupiditate in! Alias, accusantium perspiciatis numquam at, repellendus sed dignissimos voluptatem reiciendis ducimus, incidunt error. Inventore facere sit impedit accusamus. Iusto consequatur a ab hic porro obcaecati iure veniam inventore explicabo culpa sint, possimus unde harum nemo! Ea neque deserunt quod doloremque animi. \",\n  // lorem125,\n  \" Lorem ipsum dolor sit amet consectetur adipisicing elit. Labore iste reprehenderit tenetur consequuntur fugit cupiditate corrupti a quidem voluptatem error nulla sed veritatis, fugiat natus nesciunt illo cum eum, dicta aperiam consectetur quibusdam alias. Minus, tempore corporis omnis est officia non necessitatibus repellendus velit deleniti amet incidunt, porro asperiores eveniet hic harum quod enim ab quidem nostrum saepe temporibus laborum. Magni, officia at. Quo quis a libero debitis quod aut eum eligendi atque esse sed voluptatum, fugiat voluptatibus pariatur quia officiis. Dignissimos molestias dolore itaque atque. Illum quidem numquam cum rem eligendi repellat porro maxime aut obcaecati mollitia, iure unde vitae quas sit? Ratione eos ipsa vitae dolor voluptates, nam, facilis distinctio hic natus architecto neque, libero accusantium incidunt fuga a illum quis consequatur quaerat. \",\n  // lorem150,\n  \" Lorem ipsum dolor sit amet consectetur adipisicing elit. Laborum, enim. Dicta, assumenda vel? Molestias fuga adipisci amet eos perferendis ab nisi doloribus sit eveniet. Culpa minus omnis facere error laboriosam est ratione facilis, id asperiores ex sed natus sit. Porro minus, quam nulla et provident tempora nisi voluptate, ullam voluptatem vel perspiciatis, obcaecati aspernatur ducimus incidunt labore? Magni nam incidunt reiciendis ducimus, exercitationem totam veniam tempore voluptates quisquam nisi debitis magnam consequuntur unde? Dolorem quidem voluptas delectus laborum repellat accusamus eum. Placeat nemo veniam blanditiis quis accusamus deleniti, recusandae, minima tempora ducimus quam nesciunt tempore. Sit accusantium vero quis, natus similique commodi expedita saepe totam deserunt odio esse porro culpa magni voluptate nesciunt praesentium facilis fugit ad quam consectetur accusamus? Tempora magni obcaecati officia, minima molestiae quas consequuntur perspiciatis. Sapiente architecto alias ipsa? Tempore qui voluptates dicta non itaque iusto error animi sunt, fugit voluptatem esse nulla quis sit optio? \",\n  // lorem175,\n  \" Lorem ipsum dolor sit amet consectetur adipisicing elit. Nulla error dolorum ipsam quae molestias dolores asperiores, illum eligendi neque? Minus molestias recusandae temporibus, optio inventore cum labore, quaerat totam, adipisci reiciendis laboriosam. Asperiores fugit earum dolorum nulla, aliquid accusantium provident optio eaque dolore esse saepe laudantium consectetur libero veritatis ad, incidunt quod mollitia. Ipsum magnam expedita cupiditate tenetur fuga necessitatibus. Maiores iusto blanditiis nemo non explicabo, laudantium, delectus praesentium, ipsam at aspernatur error nihil. Temporibus corrupti dignissimos voluptas soluta iusto quaerat eos obcaecati omnis nihil, culpa inventore debitis possimus consequatur illum quae a hic nulla. Minima repellat exercitationem ducimus animi deserunt optio, commodi ea. Architecto molestias illo eum quibusdam dolorem reiciendis soluta, suscipit, deserunt id fugit, eos quae magnam? Doloremque, consequuntur aperiam? Tenetur porro consequatur voluptatem ex molestiae consectetur error incidunt! In mollitia tempore doloremque. Error alias repellendus rem. Sed, quaerat ad molestiae voluptas dicta nostrum autem voluptatibus odit temporibus similique amet vero a illo nulla quo corrupti quasi quas quod mollitia debitis perferendis in suscipit. Eius sunt tempora fuga rerum dolor blanditiis culpa hic. \",\n  // lorem200,\n  \" Lorem ipsum dolor sit amet, consectetur adipisicing elit. Perspiciatis facere doloribus perferendis ad quaerat in eligendi, id voluptas eum explicabo! Harum incidunt non eos saepe, nemo laudantium quisquam! Sequi, aperiam modi libero dolor ea, recusandae beatae repellendus ad maxime neque odit voluptatibus magni, natus possimus consequatur dolore aliquid officiis. Dolore iure, impedit, asperiores dolorem rem aut tempore obcaecati quasi necessitatibus voluptate a nam perferendis? Iure et ad quo delectus perferendis quisquam fugiat voluptatibus aperiam, amet dolore veritatis hic eveniet vitae est nihil sunt tenetur? Inventore id vero ipsam fugit sunt! Id, illo. Sunt modi voluptatem praesentium voluptatum facere inventore! Enim, consequuntur? Neque aliquid consectetur modi saepe mollitia illo facilis quos blanditiis officia pariatur accusantium voluptate officiis provident expedita, cupiditate magni dolore voluptatum aspernatur dolores. Necessitatibus odit aut voluptatum possimus ducimus enim animi, cum sequi deleniti, dignissimos, sunt dolore accusamus delectus. Quas fuga enim distinctio neque ea autem aperiam dolore! Sapiente accusantium iure quia amet fuga eligendi! Soluta labore consequatur officia, similique odit, doloribus consequuntur dolore laudantium fugit dolores accusantium. Enim sed ipsam porro expedita, corporis fugit animi aut consequuntur voluptates in quae sequi placeat ad. Officiis tenetur cumque necessitatibus pariatur illo voluptatum adipisci culpa accusamus, quas doloribus, ratione tempora neque? \",\n  // lorem250,\n  \" Lorem ipsum, dolor sit amet consectetur adipisicing elit. Quae officia nemo, ducimus animi unde tenetur et ea obcaecati iusto, commodi doloremque corporis quos blanditiis ipsum aspernatur enim repellat necessitatibus nam asperiores quod. Maxime architecto odio illum cumque nesciunt explicabo laboriosam quasi itaque molestiae, quisquam officia in impedit sunt aliquid reiciendis deleniti quaerat consequatur hic atque! Accusamus iusto explicabo ab unde doloremque. Rem, dolorum! Aut reiciendis quas in! Dolorum mollitia pariatur vitae expedita ea repudiandae obcaecati officiis necessitatibus adipisci sequi ipsum praesentium, inventore dolores repellat nisi officia vero. Illum iste molestiae voluptates iure rerum eius blanditiis, accusantium omnis dolorem unde eveniet laborum itaque! Ipsa numquam itaque voluptates nisi sed fugiat consectetur ipsum quidem. At veniam quisquam animi quo quam, libero amet expedita maxime eveniet, officiis adipisci optio? Vero reprehenderit, animi, voluptates odit mollitia accusamus minima nostrum quia dicta maxime laudantium quas quo voluptatibus corrupti. Accusantium facere at voluptatem magni molestiae corrupti illum ut nisi fugiat quibusdam repellendus ducimus recusandae nulla non autem dolorum, itaque saepe esse? Distinctio labore tenetur aliquid optio sed quisquam reiciendis beatae excepturi inventore quasi dolor fugiat quod amet, debitis nostrum voluptatibus consequatur repellat voluptas. Obcaecati ipsa alias cumque dolor, necessitatibus assumenda eius omnis repudiandae cupiditate nostrum possimus corporis, ducimus adipisci molestias temporibus, dolorum odit doloremque officia exercitationem velit eveniet porro quos consequuntur fuga? Sit voluptatum est at id veritatis officiis unde perferendis magnam labore neque, asperiores eius, delectus cupiditate sunt iure deleniti! Blanditiis vitae nisi in ipsam qui accusantium quas, dignissimos aut. Dicta repellat sit consequuntur animi? \",\n  // lorem300\n  \" Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolorum voluptatum voluptates quis eos qui doloribus reiciendis sint perspiciatis, fuga aliquid, minima, at harum impedit rerum nam reprehenderit maiores eum tempore temporibus similique ea itaque asperiores! Consequuntur exercitationem molestiae voluptate magnam soluta sit deserunt at neque eligendi error accusantium minima eaque porro animi accusamus, velit cupiditate quae harum totam placeat maiores nihil quibusdam earum a. Excepturi, sapiente. Et necessitatibus incidunt quas aperiam odio eaque eius eligendi, rerum eum. Vitae incidunt porro quam voluptates non, voluptatibus, culpa nemo similique illo at officiis deserunt eos corrupti temporibus molestiae minima provident unde quisquam. Temporibus quidem odit non error, laborum consequuntur aliquid corrupti reprehenderit fugit quis! Officia soluta, autem nisi iste accusamus adipisci sapiente quam porro in. Sed tempore atque quidem explicabo illo temporibus corrupti maxime veritatis similique iste cumque perferendis deleniti ut accusamus eius eum voluptas ab, sequi eligendi quos! Dicta harum fugit ipsum. Quae, vel velit aperiam error non dignissimos consectetur maxime eius repellendus laboriosam illo, labore ex explicabo praesentium optio soluta officiis, quibusdam recusandae officia dolorum. Doloribus deleniti, ad at corporis, maiores quaerat temporibus cumque voluptates minus, unde esse ea voluptatem. Culpa nobis recusandae iure unde tenetur, voluptatem a et sunt totam sed pariatur enim eligendi eaque illo sint voluptates odit maiores voluptatibus harum magnam sapiente architecto, obcaecati est. Eveniet quam quidem necessitatibus est repudiandae cumque fugit provident quasi adipisci odit, alias magnam optio voluptates hic cupiditate! Eaque consectetur, architecto magni dolores veritatis impedit autem quibusdam. Commodi quod dolore modi laudantium qui nam rem beatae quia deserunt, quidem perspiciatis eum expedita dolor et itaque sit. Nobis magni ab doloribus ipsum nulla fuga cupiditate dolores, tempore dolorum aliquam fugiat iure nesciunt natus est vero quo perspiciatis alias exercitationem? Quam adipisci ipsam dolor repudiandae repellendus, ipsum deleniti voluptatibus vel iusto numquam. Aliquam, natus incidunt. \",\n  // lorem400\n  \" Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ullam mollitia amet voluptatem ratione ipsa corporis perferendis aut suscipit earum nihil dignissimos quo cupiditate facilis debitis, inventore quibusdam! Expedita, tempore. Itaque sed architecto quia aut quod dignissimos quis enim perferendis est non ex dolor nostrum quo alias odit reprehenderit iusto, repellendus laudantium at nemo! Voluptatum, illo commodi quis aperiam ad nulla vel dicta accusantium eius rem tenetur saepe molestias cumque ut repudiandae facere. Qui quas eum dolore tempora modi voluptate eligendi laborum deleniti consequatur tenetur natus odio dolorem, cum nobis eos aperiam ipsam excepturi esse quam. Quaerat tempore eum fugit. Amet odit provident reprehenderit est facere ipsam, beatae dolores labore fugiat deleniti animi suscipit, totam recusandae excepturi nemo quas quia accusantium, quam quaerat esse mollitia non adipisci nihil? Officia odit harum magni veniam possimus quaerat modi dolorum, quas et dicta. Voluptates aspernatur pariatur numquam ut soluta enim voluptatum, veritatis quia laboriosam eos totam accusamus fugit dolorum. Ut perferendis ipsa tempore eligendi aliquid quos tempora cum aliquam. Voluptatem voluptas porro numquam laudantium quibusdam tempora delectus distinctio, repudiandae consectetur ut veniam corporis? Ullam earum sint cum, molestias magnam quam, vel aspernatur tempora fugit nesciunt aliquam repellat unde. Nostrum neque excepturi quaerat odio quibusdam itaque consequatur voluptatibus impedit dolore cum explicabo aut dolor temporibus, vero, maiores quo ullam! Consectetur sequi provident nemo eveniet libero nisi vitae sint quo reprehenderit. Maxime blanditiis necessitatibus, ipsa similique, ex eligendi nulla accusamus nesciunt minima ipsam dignissimos. Quaerat iusto nihil nobis maxime. Obcaecati perferendis optio culpa eaque! Tempora, nesciunt error quos quas doloremque, at distinctio reiciendis rerum accusamus quam quo aperiam ipsum explicabo alias, accusantium est deleniti neque dolores nemo. Nobis laudantium illo ullam dolores maxime doloremque eos non perspiciatis possimus cum dolore recusandae quae itaque fuga libero, assumenda quas porro saepe. Atque, hic magnam perspiciatis nesciunt, iste fugit, dicta corrupti rem adipisci minima repellendus magni error! Rerum vel optio explicabo nulla nobis voluptatum magni repellat in repellendus veritatis iste sequi, doloremque ex unde laborum quibusdam libero commodi, pariatur officia consequatur adipisci? Omnis voluptatem hic nemo totam distinctio doloremque velit iusto ducimus vel, nisi a obcaecati corporis nesciunt error debitis similique placeat perspiciatis laudantium consequatur aliquam adipisci culpa? Necessitatibus tempore soluta iste accusantium, incidunt quasi ad aut corrupti voluptates asperiores magnam commodi! Expedita minus sed unde suscipit nihil vel, temporibus velit possimus vitae sequi ab necessitatibus? Harum nostrum vitae aspernatur fuga eligendi sapiente, earum in eum nemo, repudiandae recusandae! \",\n];\n\nexport default data;\n","import React, { useState, useRef, useEffect } from \"react\";\n\nconst Section = ({\n  id,\n  content,\n  observer,\n  sentinelCollection,\n  onRemove,\n  setIsRemoved,\n}) => {\n  const containerRef = useRef(null);\n  const sentinelTopRef = useRef(null);\n  const [sticky, setSticky] = useState(false);\n  const [shadow, setShadow] = useState(false);\n\n  useEffect(() => {\n    const sentinelTop = sentinelTopRef.current;\n    const container = containerRef.current;\n\n    observer.observe(sentinelTop);\n    sentinelCollection.set(sentinelTop, {\n      container,\n      setSticky,\n      setShadow,\n    });\n\n    // when component is removed\n    return () => {\n      console.log(\"on removed\");\n      observer.unobserve(sentinelTop);\n      sentinelCollection.delete(sentinelTop, {\n        container,\n        setSticky,\n        setShadow,\n      });\n      setIsRemoved(Date.now());\n    };\n  }, []);\n\n  const styleHeader = {\n    // position: sticky ? \"sticky\" : \"relative\",\n    // Shadow: casted only bottom, not on all sides\n    //      best style if header layout has no left padding\n    //      issue: may look strange\n    boxShadow: shadow ? \"rgba(0, 0, 42, 0.55) 0px 15px 17px -16px\" : \"none\",\n    // Shadow: normaly casted, all 4 or 3 sides\n    // best style if header layout is static\n    // paddingLeft: shadow ? \"30px\": \"0\",\n  };\n\n  return (\n    <section ref={containerRef}>\n      <div className=\"sentinel-top\" ref={sentinelTopRef}></div>\n      <header className={sticky ? \"sticky\" : null} style={styleHeader}>\n        <h3>Header {id + 1}</h3>{\" \"}\n        <button className=\"btn-remove\" onClick={() => onRemove(id)}>\n          Remove\n        </button>\n      </header>\n      <div className=\"content\">{content}</div>\n    </section>\n  );\n};\n\nexport default Section;\n","import React, { useState, useRef, useEffect } from \"react\";\nimport data from \"./data\";\nimport Section from \"./Section\";\n\nconst multiplyList = (arr, amount) => {\n  const newArr = [];\n  for (let i = 0; i < amount; i++) {\n    newArr.push(...arr);\n  }\n  return newArr;\n};\n\nfunction App() {\n  const [list, setList] = useState(\n    multiplyList(data, 3).map((item, idx) => ({ id: idx, item }))\n  );\n  const [isFinished, setIsFinished] = useState(false);\n  const [isRemoved, setIsRemoved] = useState(Date.now());\n  const sentinelCollectionRef = useRef(new Map());\n  const observerRef = useRef(\n    new IntersectionObserver(\n      (entries) => {\n        const sentinelContainer = sentinelCollectionRef.current;\n\n        entries.forEach((entry) => {\n          const { target, intersectionRatio, boundingClientRect } = entry;\n          const targetTop = boundingClientRect.top;\n          const rootHeight = entry.rootBounds.height;\n          const rootTop = entry.rootBounds.top;\n          const props = sentinelContainer.get(target);\n          const percentage = rootHeight > 700 ? 0.65 : 0.8;\n\n          if (!props) return;\n\n          const { container, setSticky, setShadow } = props;\n\n          const containerHeight = container.getBoundingClientRect().height;\n\n          if (containerHeight > rootHeight * percentage) {\n            setSticky(true);\n            const nearTop = Math.abs(targetTop - rootTop) <= rootHeight;\n            if (\n              intersectionRatio === 0 &&\n              (nearTop || Math.sign(targetTop) === -1)\n            ) {\n              setShadow(true);\n            } else if (intersectionRatio === 1) {\n              setShadow(false);\n            }\n          } else {\n            setSticky(false);\n            setShadow(false);\n          }\n        });\n      },\n      { threshold: [0, 1] }\n    )\n  );\n\n  useEffect(() => {\n    setIsFinished(true);\n  }, [isFinished]);\n\n  // cleanup\n  useEffect(() => {\n    const observer = observerRef.current;\n    const sentinelCollection = sentinelCollectionRef.current;\n\n    return () => {\n      observer.disconnect();\n      observer = null;\n      sentinelCollection.clear();\n    };\n  }, []);\n\n  const onRemove = (id) => {\n    const copy = [...list];\n    const foundIdx = list.findIndex((item) => item.id === id);\n    copy.splice(foundIdx, 1);\n    setList(copy);\n  };\n\n  return (\n    <div className=\"App\">\n      <h1>Sections with IntersectionObserver </h1>\n      <div>\n        If a section takes more 65% of the viewport, then the header title\n        floats\n      </div>\n      <br />\n      <div>If viewport height is less than 700px, it's 80%</div>\n      <br />\n      <div>\n        One Observer watching {sentinelCollectionRef.current.size}{\" \"}\n        {sentinelCollectionRef.current.size - 1 ? \"sections\" : \"section\"}\n      </div>\n\n      {list.map(({ id, item }) => {\n        return (\n          <Section\n            id={id}\n            content={item}\n            observer={observerRef.current}\n            sentinelCollection={sentinelCollectionRef.current}\n            onRemove={onRemove}\n            setIsRemoved={setIsRemoved}\n            key={id}\n          ></Section>\n        );\n      })}\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}